import{_ as j}from"./TitleBanner.bedea0d2.js";import{_ as q}from"./client-only.ce65c56d.js";import{a as D,_ as E}from"./sanity-image.65ba4ec5.js";import{u as G,a as O,g as U,b as J,c as K,v as R,_ as W}from"./entry.1c3813f7.js";import{d as X,W as Q,a as x,c as Y,C as Z,A as ee,I as c,G as n,u as o,J as r,R as y,M as i,S as te,H as d,N as b,F as k,X as w,ac as z,K as ae,L as se,O as ne,P as oe}from"./swiper-vue.d657e82d.js";import"./vue.f36acd1f.6837454d.js";const re={"data-dark":"false",class:"bg-primary padding pb-20 md:pb-40 inset-shadow"},le={"data-aos":"fade-up",class:"h1-serif text-light"},ie={class:"bg-primary"},de={key:0},ce={"data-dark":"false","data-aos":"fade-up",class:"px-4 md:px-8 pt-0 flex flex-wrap md:flex-row flex-start md:space-x-2 bg-primary select-none md:pb-0 gap-3 md:gap-1"},ue=["onClick"],me={"data-aos":"fade-up","data-dark":"false",class:"bg-primary text-secondary"},pe={"data-dark":!0,"data-aos":"fade-up"},_e={class:"flex flex-col group hover:cursor-pointer item"},ge={class:"aspect-[4/3] overflow-hidden relative w-full"},fe={class:"self-start text-start text-base text-primary mt-4 md:mt-3 duration-500 bg-light group-hover:bg-primary group-hover:text-light outline-1 group-hover:outline-white outline outline-light font-sans rounded-[60px] px-4 py-2 md:py-[0.57rem] md:leading-[11px]"},Ce=X({__name:"index",async setup(he){let g,C;const s=G(),{locale:L}=O(),N=U`{ "materassi": *[_type == "materassi" && language == $language] }`,A=J(),{data:f}=([g,C]=Q(()=>K("materassi",()=>A.fetch(N,{language:L.value}),{transform:e=>e==null?void 0:e.materassi[0]})),g=await g,C(),g),l=x(["all"]),B=Y(()=>f.value.products.filter(t=>l.value.includes("all")?!0:l.value.includes(t==null?void 0:t.info.categoria))),$={lattice:["lattice","latex","latex"],"foam system":["foam system","foam system","foam system"],"molle indipendenti":["molle indipendenti","taschenfederkern","independent spring mattress"],"molle classiche":["molle classiche","federkernmatratzen","spring mattresses"]};function P(e){for(const t in $)if($[t].includes(e))return t;return null}s.materassiFilter&&(l.value=s.materassiFilter);function F(e){if(e!=="all"){let t=P(e.toLowerCase());l.value=[t],s.changeFilter(l.value)}else l.value=["all"],s.changeFilter("all")}const M=x(null),I=x(!1);s.changeHeader(I.value),s.changeFooter(!1),s.changeInfo(!0);{const e=x([]),t={root:null,rootMargin:`-37px 0px -${window.innerHeight-37}px 0px`},h=new IntersectionObserver(u=>{u.forEach(_=>{_.isIntersecting&&(_.target.getAttribute("data-dark")==="true"?(s.changeHeader(!1),s.changeTransHeader(!1)):(s.changeHeader(!0),s.changeTransHeader(!1)))})},t);Z(()=>{setTimeout(()=>{e.value=document.querySelectorAll("[data-dark]"),e.value.forEach(u=>{h.observe(u)})},1e3)}),ee(()=>{h.disconnect()})}function T(e){return e.asset._ref}return(e,t)=>{var H;const h=j,u=q,_=D,v=E,V=W;return d(),c("main",null,[n(h,{title:e.$t("links.materassi"),dark:o(I)},null,8,["title","dark"]),r("section",re,[r("div",le,y((H=o(f))==null?void 0:H.text_box),1)]),r("section",ie,[n(te,{name:"product"},{default:i(()=>{var S;return[o(M)?oe("",!0):(d(),c("section",de,[r("section",ce,[r("div",{onClick:t[0]||(t[0]=a=>F("all")),class:b([o(l).includes("all")?"text-primary bg-light":"text-light bg-primary hover:bg-light hover:text-primary","filter-button w-full md:w-auto duration-500 text-base py-2 md:py-[0.57rem] md:leading-[11px]"])},y(e.$t("categories")),3),(d(!0),c(k,null,w((S=o(f))==null?void 0:S.categorie,(a,m)=>(d(),c("div",{onClick:p=>F(a.category),class:b([o(l).includes(a.category.toLowerCase())?"text-primary bg-light ":"text-light bg-primary hover:bg-light hover:text-primary","filter-button w-full md:w-auto duration-500 text-base md:leading-[11px] py-2 md:py-[0.57rem]"]),key:m},y(a.category),11,ue))),128))]),r("section",me,[n(u,null,{default:i(()=>[n(z,{name:"product"},{default:i(()=>{var a;return[(d(!0),c(k,null,w((a=o(f))==null?void 0:a.categorie,(m,p)=>ae((d(),c("div",{key:"description-"+p,class:"text-[24px] leading-[26px] md:text-[28px] md:leading-8 font-light pt-8 pb-0 px-4 md:px-8 md:pb-16"},[n(o(R),{value:m.description},null,8,["value"])])),[[se,o(l).includes(m.category.toLowerCase())]])),128))]}),_:1})]),_:1})]),r("div",pe,[n(u,null,{default:i(()=>[r("section",{class:b([[o(l).includes("all")?"md:grid-cols-3":"md:grid-cols-2"],"bg-primary padding grid gap-4 md:gap-6 pb-20 pt-8"])},[n(z,{name:"product"},{default:i(()=>[(d(!0),c(k,null,w(o(B),(a,m)=>(d(),ne(V,{to:e.localePath(`/materassi/${a._key}`),key:"product-"+m},{default:i(()=>[r("div",_e,[r("div",ge,[n(v,{"asset-id":T(a.image_one)},{default:i(({src:p})=>[n(_,{class:"aspect-[4/3] object-cover opacity-100 z-[2] transition ease-linear duration-[400ms] md:group-hover:opacity-0 absolute top-1/2 transform -translate-y-1/2 lazyload w-full",src:p},null,8,["src"])]),_:2},1032,["asset-id"]),n(v,{"asset-id":T(a.image_two)},{default:i(({src:p})=>[n(_,{class:"aspect-[4/3] object-cover transition absolute top-1/2 transform duration-[400ms] -translate-y-1/2 z-[0] lazyload w-full",src:p},null,8,["src"])]),_:2},1032,["asset-id"])]),r("div",fe,y(a.name),1)])]),_:2},1032,["to"]))),128))]),_:1})],2)]),_:1})])]))]}),_:1})])])}}});export{Ce as default};
